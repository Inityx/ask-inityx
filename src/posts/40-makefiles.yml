title: What's up with the Makefile syntax?
content:
  - >
    Make is a dependency-based system. Makefiles consist of a set of targets, and a set of dependencies for each
    target.
  - |
    <code><pre><span class="hl-symbol">all:</span> app.exe
    
    <span class="hl-symbol">app.exe:</span> main.cpp foo.o bar.o
    	<span class="hl-string">g++ main.cpp foo.o bar.o -o app.exe</span>
    
    <span class="hl-symbol">foo.o:</span> foo.cpp foo.h
    	<span class="hl-string">g++ -c foo.cpp</span>
    
    <span class="hl-symbol">bar.o:</span> bar.cpp bar.h
    	<span class="hl-string">g++ -c bar.cpp</span>
    </pre></code>
  - >
    <mark>all</mark> is the default target, and the other targets in this
    example represent files. Each item listed after a target is a dependency of
    that target. If any dependency is newer than the target's file, the target must
    be rebuilt; this check happens recursively through the tree of dependencies
    until all dependent files have been updated.
  - >
    For example, if everything has been compiled up to date and then the file
    <mark>foo.cpp</mark> is modified, a chain of rebuilds is triggered when
    building <mark>all</mark> or <mark>app.exe</mark>:
  - |
    <ul>
      <li><mark>all</mark> depends on <mark>app.exe</mark></li>
      <li><mark>app.exe</mark> depends on <mark>foo.o</mark></li>
      <li><mark>foo.o</mark> depends on <mark>foo.cpp</mark></li>
    </ul>
  - >
    Make then re-runs the necessary targets in reverse order. Notice though
    that <mark>bar.o</mark> does not need to be rebuilt, and Make takes advantage
    of this; it's very important if compilation takes a long time.
